# =============================================================================
# Kin AI Raspberry Pi Client - Environment Configuration
# =============================================================================
#
# This file contains all environment variables needed for the Raspberry Pi client.
# Copy this file to .env and fill in your actual values.
#
# IMPORTANT: The .env file is created automatically during device provisioning
# through the admin portal. You typically don't need to create this manually.
#
# =============================================================================

# =============================================================================
# DEVICE CREDENTIALS (REQUIRED)
# =============================================================================
# These are automatically generated during device provisioning via admin portal
# DO NOT share these credentials - they authenticate your device

# Unique device identifier (UUID format)
DEVICE_ID=your-device-uuid-here

# Ed25519 private key for device authentication (base64-encoded)
# This is generated during provisioning and should never be shared
DEVICE_PRIVATE_KEY=your-base64-encoded-private-key-here

# =============================================================================
# WIFI SETUP CONFIGURATION
# =============================================================================

# Enable/disable WiFi setup mode
# When enabled, device will enter setup mode if it can't connect to orchestrator
# Default: true (disabled for backward compatibility with existing devices)
# Set to false for new devices that need WiFi setup capability
SKIP_WIFI_SETUP=true

# Conversation Orchestrator WebSocket URL
# Used by WiFi setup to verify connectivity before completing setup
# Default: wss://conversation-orchestrator.onrender.com/ws (hardcoded in Config)
# Only override if testing against local/staging environment
# CONVERSATION_ORCHESTRATOR_URL=wss://conversation-orchestrator.onrender.com/ws

# =============================================================================
# OBSERVABILITY CONFIGURATION
# =============================================================================

# Enable OpenTelemetry observability (traces, logs)
# Default: true
OTEL_ENABLED=true

# OpenTelemetry collector endpoint
# Default: http://localhost:4318 (local collector on device)
# The local collector forwards to central endpoint (configured by wrapper)
OTEL_EXPORTER_ENDPOINT=http://localhost:4318

# Deployment environment (for telemetry tags)
# Options: production, staging, development
# Default: production
ENV=production

# =============================================================================
# NOTES
# =============================================================================
#
# Device Provisioning:
# --------------------
# 1. Go to admin portal: https://admin.yourapp.com
# 2. Create new device
# 3. Download the installer package (includes .env with credentials)
# 4. Run ./install.sh on your Raspberry Pi
# 5. The device will automatically authenticate and fetch runtime configuration
#
# Runtime Configuration:
# ----------------------
# Most settings (API keys, wake word, LED settings, etc.) are fetched from the
# backend after device authentication. You don't need to set them in .env.
#
# WiFi Setup:
# -----------
# For new devices without internet:
# 1. Set SKIP_WIFI_SETUP=false in this file
# 2. Device will create "Kin_Setup" access point on boot if no internet
# 3. Connect to AP and go to http://192.168.4.1 to configure WiFi
# 4. Enter WiFi credentials and pairing code
# 5. Device will connect and proceed with normal operation
#
# Security:
# ---------
# - Never commit .env file to version control
# - Never share DEVICE_PRIVATE_KEY
# - Rotate credentials if compromised (reprovision device)
#
# Troubleshooting:
# ----------------
# - "Missing DEVICE_ID or DEVICE_PRIVATE_KEY" → Device needs provisioning
# - "Device not found" → Device ID not registered in backend
# - "Authentication failed" → Check DEVICE_PRIVATE_KEY is correct
# - "Orchestrator unreachable" → Check internet connection or set SKIP_WIFI_SETUP=false
#
# =============================================================================
